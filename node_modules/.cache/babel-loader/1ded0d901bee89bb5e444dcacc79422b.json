{"ast":null,"code":"import _classCallCheck from\"/Users/bill/Local Sites/eat/app/public/wp-content/themes/eat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bill/Local Sites/eat/app/public/wp-content/themes/eat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bill/Local Sites/eat/app/public/wp-content/themes/eat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bill/Local Sites/eat/app/public/wp-content/themes/eat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=/*#__PURE__*/function(_Component){_inherits(Card,_Component);var _super=_createSuper(Card);function Card(){var _this;_classCallCheck(this,Card);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={styles:[],locations:[],restaurants:[]};_this.handleSubmit=function(event){event.preventDefault();var selectedStyle=event.target.styles.value;var selectedLocation=event.target.locations.value;axios.get(\"http://eat.local/wp-json/ijab/v1/restaurants/?location=\".concat(selectedLocation,\"&style=\").concat(selectedStyle)).then(function(res){_this.setState({restaurants:res.data});}).catch(function(error){console.log('Error fetching and parsing data: ',error);});};return _this;}_createClass(Card,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://eat.local/wp-json/ijab/v1/options/\").then(function(res){_this2.setState({styles:res.data.styles,locations:res.data.locations});}).catch(function(error){console.log('Error fetching and parsing data: ',error);});}},{key:\"render\",value:function render(){var styleList=this.state.styles.map(function(style){return/*#__PURE__*/_jsx(\"option\",{value:style.slug,children:style.name},style.term_id);});var locationList=this.state.locations.map(function(location){return/*#__PURE__*/_jsx(\"option\",{value:location.slug,children:location.name},location.term_id);});var restaurantList=this.state.restaurants.map(function(restaurant){return/*#__PURE__*/_jsx(\"h2\",{dangerouslySetInnerHTML:{__html:restaurant.name}},restaurant.id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"card\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"selector\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Select a style:\",/*#__PURE__*/_jsx(\"select\",{name:\"styles\",id:\"styles\",value:this.state.style,children:styleList})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"selector\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Select a location:\",/*#__PURE__*/_jsx(\"select\",{name:\"locations\",id:\"locations\",value:this.state.location,children:locationList})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"submit\",className:\"accent\",children:\"Load\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"results\",children:restaurantList})]});}}]);return Card;}(Component);export{Card as default};","map":{"version":3,"sources":["/Users/bill/Local Sites/eat/app/public/wp-content/themes/eat/src/Card.js"],"names":["React","Component","axios","Card","state","styles","locations","restaurants","handleSubmit","event","preventDefault","selectedStyle","target","value","selectedLocation","get","then","res","setState","data","catch","error","console","log","styleList","map","style","slug","name","term_id","locationList","location","restaurantList","restaurant","__html","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class Card extends Component {\n    \n   state = {\n        styles: [],\n        locations: [],\n        restaurants: []\n    }\n\n    componentDidMount() {\n\n        axios.get(`http://eat.local/wp-json/ijab/v1/options/`)\n        .then(res => {\n            this.setState({\n                styles: res.data.styles,\n                locations: res.data.locations\n            })\n        })\n        .catch(error => {\n            console.log( 'Error fetching and parsing data: ', error );\n        });\n\n    }\n\n    handleSubmit = ( event ) => {\n\n        event.preventDefault();\n\n        let selectedStyle = event.target.styles.value;\n        let selectedLocation = event.target.locations.value;\n\n        axios.get(`http://eat.local/wp-json/ijab/v1/restaurants/?location=${selectedLocation}&style=${selectedStyle}`)\n        .then(res => {\n            this.setState({\n                restaurants: res.data\n            })\n        })\n        .catch(error => {\n            console.log( 'Error fetching and parsing data: ', error );\n        });\n        \n    }\n    \n    render() {\n    \n        let styleList = this.state.styles.map(\n            style => \n            <option key={ style.term_id } value={ style.slug }>\n                { style.name }\n            </option>\n        );\n\n        let locationList = this.state.locations.map(\n            location => \n            <option key={ location.term_id } value={ location.slug }>\n                { location.name }\n            </option>\n        );\n\n        let restaurantList = this.state.restaurants.map(\n            restaurant => \n            <h2 key={ restaurant.id } dangerouslySetInnerHTML={{ __html: restaurant.name }}></h2>\n        );\n\n        return (\n\n            <div className=\"card\">\n\n                <form className=\"card\" onSubmit={ this.handleSubmit }>\n                            \n                    <div className=\"selector\">\n                        <label>Select a style:\n                            <select name=\"styles\" id=\"styles\" value={ this.state.style }>{ styleList }</select>\n                        </label>\n                    </div>\n\n                    <div className=\"selector\">\n                        <label>Select a location:\n                            <select name=\"locations\" id=\"locations\" value={ this.state.location }>{ locationList }</select>\n                        </label>\n                    </div>\n                \n                    <button type=\"submit\" id=\"submit\" className=\"accent\">Load</button>\n\n                </form>\n\n                <div className=\"results\">\n                    { restaurantList }\n                </div>\n\n            </div>\n\n        );\n\n    }\n    \n}\n"]},"metadata":{},"sourceType":"module"}